import requests
from requests.auth import HTTPDigestAuth

# List of IP addresses to check
ip_addresses = [
    "https://192.168.1.1",
    "https://192.168.1.2",
    "https://192.168.1.3"
    # Add more as needed
]

# Credentials to test
username = "admin"
password = "admin"

# Function to check authentication
def check_auth(ip):
    try:
        response = requests.get(ip, auth=HTTPDigestAuth(username, password), timeout=5)
        
        if response.status_code == 200:
            print(f"[SUCCESS] Authentication successful for {ip}")
        else:
            print(f"[FAILED] Authentication failed for {ip} - Status Code: {response.status_code}")
    except requests.exceptions.RequestException as e:
        print(f"[ERROR] Could not connect to {ip}: {e}")

# Iterate over each IP address and check authentication
for ip in ip_addresses:
    check_auth(ip)
